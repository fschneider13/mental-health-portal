(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[722],{64913:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dass21",function(){return o(27970)}])},80257:function(e,t,o){"use strict";o.d(t,{Z:function(){return d}});var l=o(85893),a=o(67294),n=o(41664),i=o.n(n),r=o(8465),s=o(2370);function d(){let[e,t]=(0,a.useState)(null),[o,n]=(0,a.useState)(null);(0,a.useEffect)(()=>{(0,r.E)().then(e=>{n(e);let o=e.onAuthStateChanged(e=>{t(e)});return()=>o()})},[]);let d=async()=>{if(o){let e=new s.GoogleAuthProvider;try{await (0,s.signInWithPopup)(o,e)}catch(e){console.error("Google Login Error:",e.message),alert("Login failed: "+e.message)}}else alert("Authentication not initialized. Please refresh the page.")},p=async()=>{if(o)try{await (0,s.signOut)(o)}catch(e){console.error("Logout Error:",e.message),alert("Logout failed: "+e.message)}else alert("Authentication not initialized.")};return(0,l.jsx)("nav",{className:"bg-blue-600 text-white p-4 shadow-md",children:(0,l.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,l.jsx)(i(),{href:"/",className:"text-xl font-bold hover:text-blue-200",children:"Mental Health Portal"}),(0,l.jsx)("div",{className:"space-x-4",children:e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"text-sm",children:["Welcome, ",e.displayName||e.email]}),(0,l.jsx)("button",{onClick:p,className:"p-2 bg-red-500 rounded hover:bg-red-600","aria-label":"Logout",children:"Logout"})]}):(0,l.jsx)("button",{onClick:d,className:"p-2 bg-green-500 rounded hover:bg-green-600","aria-label":"Login with Google",children:"Login with Google"})})]})})}},68720:function(e,t,o){"use strict";o.d(t,{Z:function(){return m}});var l=o(85893),a=o(67294),n=o(11163),i=o(41664),r=o.n(i),s=o(8465),d=o(2370);function p(e,t){let o={depression:{normal:9,mild:13,moderate:20,severe:27},anxiety:{normal:7,mild:9,moderate:14,severe:19},stress:{normal:14,mild:18,moderate:25,severe:33}};return e<=o[t].normal?"Normal":e<=o[t].mild?"Mild":e<=o[t].moderate?"Moderate":e<=o[t].severe?"Severe":"Extremely Severe"}function m(e){let{questions:t,type:o}=e,[i,m]=(0,a.useState)({}),[c,u]=(0,a.useState)(0),[h,g]=(0,a.useState)(null),[f,b]=(0,a.useState)(null),A=(0,n.useRouter)();(0,a.useEffect)(()=>{(0,s.E)().then(e=>{g(e);let t=e.onAuthStateChanged(e=>b(e));return()=>t()})},[]);let y=(e,t)=>{m(o=>({...o,[e]:t}))};if(!h||!f)return(0,l.jsxs)("div",{className:"container mx-auto p-4 text-center",children:[(0,l.jsx)("p",{className:"mb-4",children:"Please login with Google to start the questionnaire."}),(0,l.jsx)("button",{onClick:async()=>{if(h){let e=new d.GoogleAuthProvider;try{await (0,d.signInWithPopup)(h,e)}catch(e){alert("Login failed: "+e.message)}}},className:"p-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Login with Google"})]});let x=t[c];return(0,l.jsxs)("div",{className:"container mx-auto p-4 max-w-xl",children:[(0,l.jsxs)("h1",{className:"text-3xl font-bold mb-6 text-center",children:[o.toUpperCase()," Questionnaire"]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("p",{className:"mb-2 font-medium",children:["Question ",c+1," of ",t.length]}),(0,l.jsx)("p",{className:"mb-2",children:x.text}),x.options.map((e,t)=>(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("input",{type:"radio",name:"question-".concat(c),value:t,checked:i[c]===t,onChange:()=>y(c,t),className:"mr-2"}),e]},t))]}),(0,l.jsxs)("div",{className:"flex justify-between mt-6",children:[c>0&&(0,l.jsx)("button",{onClick:()=>{u(e=>Math.max(e-1,0))},className:"p-2 bg-gray-200 rounded hover:bg-gray-300",children:"Previous"}),c<t.length-1?(0,l.jsx)("button",{onClick:()=>{if(void 0===i[c]){alert("Please select an option to proceed.");return}u(e=>e+1)},className:"ml-auto p-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Next Question"}):(0,l.jsx)("button",{onClick:()=>{if(Object.keys(i).length!==t.length){alert("Please answer all questions before submitting.");return}let{score:e,category:l}=function(e,t){let o;let l=t.reduce((e,t)=>e+t,0);switch(e){case"phq9":o=l<=4?"Minimal":l<=9?"Mild":l<=14?"Moderate":l<=19?"Moderately Severe":"Severe";break;case"gad7":o=l<=4?"Minimal":l<=9?"Mild":l<=14?"Moderate":"Severe";break;case"dass21":let a=2*t.slice(0,7).reduce((e,t)=>e+t,0),n=2*t.slice(7,14).reduce((e,t)=>e+t,0),i=2*t.slice(14,21).reduce((e,t)=>e+t,0);return{score:{depression:a,anxiety:n,stress:i},category:{depression:p(a,"depression"),anxiety:p(n,"anxiety"),stress:p(i,"stress")}};default:o="Unknown"}return{score:l,category:o}}(o,t.map((e,t)=>Number(i[t]))),a=encodeURIComponent(JSON.stringify(e)),n=encodeURIComponent(JSON.stringify(l));A.push("/results?type=".concat(o,"&score=").concat(a,"&category=").concat(n))},className:"ml-auto p-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Submit"})]}),(0,l.jsx)(r(),{href:"/",className:"mt-8 inline-block text-blue-500 hover:underline",children:"Back to Home"})]})}},27970:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return r}});var l=o(85893),a=o(67294),n=o(68720);let i=[{text:"Placeholder: I found it hard to wind down",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I was aware of dryness of my mouth",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I couldn't seem to experience any positive feeling",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I found it difficult to work up the initiative",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I tended to over-react to situations",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I experienced trembling",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I felt that I was using a lot of nervous energy",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I was worried about situations in which I might panic",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I felt that I had nothing to look forward to",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I found myself getting agitated",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I found it difficult to relax",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I felt down-hearted and blue",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I was intolerant of anything that kept me from getting on",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I felt I was close to panic",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I was unable to become enthusiastic about anything",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I felt I wasn't worth much as a person",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I felt that I was rather touchy",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I was aware of the action of my heart",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I felt scared without any good reason",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I felt that life was meaningless",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]},{text:"Placeholder: I found myself getting impatient",options:["Did not apply to me at all","Applied to me to some degree","Applied to me to a considerable degree","Applied to me very much"]}];function r(){let[e,t]=(0,a.useState)(null);return(0,a.useEffect)(()=>{t(()=>o(80257).Z)},[]),(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-white",children:[e&&(0,l.jsx)(e,{}),(0,l.jsx)(n.Z,{questions:i,type:"dass21"})]})}},11163:function(e,t,o){e.exports=o(43079)},8465:function(e,t,o){"use strict";o.d(t,{E:function(){return n}});let l={apiKey:"NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyBT2P8yki55-hVC60qyEmWO-Vat58PMK1A\nNEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:mental-health-portal-1c846.firebaseapp.com\nNEXT_PUBLIC_FIREBASE_PROJECT_ID:mental-health-portal-1c846\nNEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:mental-health-portal-1c846.firebasestorage.app\nNEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:592056459137\nNEXT_PUBLIC_FIREBASE_APP_ID:1:592056459137:web:f735f5a164ea3acc8d5280",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},a=null;a=o.e(977).then(o.bind(o,83977)).then(e=>{let{initializeApp:t}=e;return t(l)}).then(e=>Promise.resolve().then(o.bind(o,2370))).then(e=>{let{getAuth:t}=e;return t(app)});let n=()=>a}},function(e){e.O(0,[551,664,204,888,774,179],function(){return e(e.s=64913)}),_N_E=e.O()}]);